"use strict";(self.webpackChunkav_docusaurus_classic=self.webpackChunkav_docusaurus_classic||[]).push([[140],{5005:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"frontend/testing/e2e-testing/cypress/index","title":"Cypress","description":"An all-in one testing framework, assertion library, with mocking and stubbing. Enables E2E and component testing in real-world scenarios of entire application\'s workflows that user is going through.","source":"@site/docs/frontend/testing/e2e-testing/cypress/index.md","sourceDirName":"frontend/testing/e2e-testing/cypress","slug":"/frontend/testing/e2e-testing/cypress/","permalink":"/av-docs/docs/frontend/testing/e2e-testing/cypress/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/frontend/testing/e2e-testing/cypress/index.md","tags":[],"version":"current","frontMatter":{}}');var i=n(4848),r=n(8453);const c={},o="Cypress",a={},l=[{value:"Quickstart",id:"quickstart",level:2},{value:"Fundamentals",id:"fundamentals",level:2},{value:"Network Requests",id:"network-requests",level:3},{value:"Stub Requests",id:"stub-requests",level:4},{value:"Static User",id:"static-user",level:4},{value:"Dynamic User",id:"dynamic-user",level:4},{value:"Describe blocks",id:"describe-blocks",level:3},{value:"It blocks",id:"it-blocks",level:3},{value:"Commands &amp; interacting with elements",id:"commands--interacting-with-elements",level:3},{value:"Getting elements",id:"getting-elements",level:3},{value:"Command chaining &amp; assertions",id:"command-chaining--assertions",level:3},{value:"Focusing on a single test",id:"focusing-on-a-single-test",level:3},{value:"beforeEach",id:"beforeeach",level:3},{value:"Custom commands",id:"custom-commands",level:3}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"cypress",children:"Cypress"})}),"\n",(0,i.jsx)(s.p,{children:"An all-in one testing framework, assertion library, with mocking and stubbing. Enables E2E and component testing in real-world scenarios of entire application's workflows that user is going through."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Runs in the browser written in JS."}),"\n",(0,i.jsxs)(s.li,{children:["Provides ",(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/get-started/why-cypress#Native-access",children:"native access"})," to the DOM and the application via cypress test runner, enabling to use the app during the testing."]}),"\n",(0,i.jsx)(s.li,{children:"Good performance and suitable for CI/CD integration."}),"\n",(0,i.jsx)(s.li,{children:"Time travel for debugging."}),"\n",(0,i.jsx)(s.li,{children:"Automatic waiting for execution."}),"\n",(0,i.jsx)(s.li,{children:"Hot reload."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"As well, due to running on a machine of the application, it has functions like:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/guides/screenshots-and-videos",children:"Screenshots and video"}),". -",(0,i.jsx)(s.a,{href:"https://docs.cypress.io/api/commands/exec",children:" File system operations"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://docs.cypress.io/api/commands/request",children:"Network operations"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["It also has important ",(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/references/trade-offs",children:"trade-offs"})," to be aware."]}),"\n",(0,i.jsx)(s.p,{children:"Good reads:"}),"\n",(0,i.jsxs)(s.p,{children:["To guide the way, the Cypress team has created ",(0,i.jsx)(s.a,{href:"https://github.com/av3000/cypress-realworld-app",children:"the Real World App (RWA), a full stack example application that demonstrates testing with Cypress in practical and realistic scenarios"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"The RWA achieves full code-coverage with end-to-end tests across multiple browsers and device sizes, but also includes visual regression tests, API tests, unit tests, and runs them all in an efficient CI pipeline. Use the RWA to learn, experiment, tinker, and practice web application testing with Cypress."}),"\n",(0,i.jsxs)(s.p,{children:["There is also a ",(0,i.jsx)(s.a,{href:"https://github.com/av3000/cypress-example-recipes",children:"example recipes repository with common testing cases"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/end-to-end-testing/testing-your-app",children:"Testing your App"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/core-concepts/best-practices",children:"Best Practices"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://testing-library.com/docs/cypress-testing-library/intro/",children:"Cypress Testing Library for well-known methods and selectors"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/guides/accessibility-testing",children:"Accessibility testing guide"})}),"\n",(0,i.jsx)(s.h2,{id:"quickstart",children:"Quickstart"}),"\n",(0,i.jsx)(s.p,{children:"Requires your development server running."}),"\n",(0,i.jsx)(s.h2,{id:"fundamentals",children:"Fundamentals"}),"\n",(0,i.jsx)(s.h3,{id:"network-requests",children:"Network Requests"}),"\n",(0,i.jsx)(s.p,{children:"Ways of backend API network handling. There are use cases for all three of the methods/strategies and may be used all of these in the same application testing."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.reddit.com/r/softwaretesting/comments/rvxuo3/stubbing_every_single_network_request_in_ui/",children:"discussion on stubbing"})}),"\n",(0,i.jsx)(s.h4,{id:"stub-requests",children:"Stub Requests"}),"\n",(0,i.jsx)(s.p,{children:"Pros:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Fast, easy, flexible"}),"\n",(0,i.jsx)(s.li,{children:"No server / DB"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Needs:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Requires fixtures"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Cons:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Not true E2E"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"static-user",children:"Static User"}),"\n",(0,i.jsx)(s.p,{children:"Pros:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Real session e2e"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Needs:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Requires server"}),"\n",(0,i.jsx)(s.li,{children:"Seed the DB"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Cons:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Shared Test State"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"dynamic-user",children:"Dynamic User"}),"\n",(0,i.jsx)(s.p,{children:"Strategy to create New User before for each single test."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Modify DB within tests."}),"\n",(0,i.jsx)(s.li,{children:"Query DB within tests."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Pros:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"No state mutations"}),"\n",(0,i.jsx)(s.li,{children:"Flexible Powerful"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Needs:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"DB Setup / Teardown"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Cons:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Slow / Complex"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"describe-blocks",children:"Describe blocks"}),"\n",(0,i.jsx)(s.p,{children:"Tests exist in describe blocks, which takes 2 arguments:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Description. Explanation of what is being tested in this block."}),"\n",(0,i.jsx)(s.li,{children:"Callback function for actual tests within that block."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"it-blocks",children:"It blocks"}),"\n",(0,i.jsx)(s.p,{children:"Block within describe block with same API, single unit test within overall test file. Consists of:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Description. Title of individual test."}),"\n",(0,i.jsx)(s.li,{children:"Callback function for test code content."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"commands--interacting-with-elements",children:"Commands & interacting with elements"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://docs.cypress.io/api/table-of-contents#Commands",children:"Commands"})," to use with ",(0,i.jsx)(s.code,{children:"cy"})," objects with shorthand methods like ",(0,i.jsx)(s.code,{children:"cy.click()"}),", ",(0,i.jsx)(s.code,{children:"cy.type()"}),", ",(0,i.jsx)(s.code,{children:"cy.check()"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Important to note that ",(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/core-concepts/introduction-to-cypress#Commands-Are-Asynchronous",children:"Cypress commands are asynchronous"}),", meaning we should use ",(0,i.jsx)(s.code,{children:"[.then()](https://docs.cypress.io/api/commands/then)"})," and ",(0,i.jsx)(s.code,{children:"[.wrap()](https://docs.cypress.io/api/commands/wrap)"})," methods."]}),"\n",(0,i.jsx)(s.h3,{id:"getting-elements",children:"Getting elements"}),"\n",(0,i.jsxs)(s.p,{children:["We often need to get an element from the DOM and make assertions, like h1 element contains certain text. We can get elements in Cypress by using the get function and pass in a CSS query selector. Good practice is to use special attributes for testing like ",(0,i.jsx)(s.code,{children:"data-cy"})," or ",(0,i.jsx)(s.code,{children:"data.testId"})," to avoid unwanted refactoring issues forcing tests to be rewritten. It also helps to get elements quickly and precisely.\n",(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/core-concepts/best-practices#Selecting-Elements",children:"Good practices for selecting elements"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"command-chaining--assertions",children:"Command chaining & assertions"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/references/assertions",children:"Assertions on elements"})," can be chained and Cypress provides various ",(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/references/assertions#Chai",children:"ways of making the assertions documented"}),". Ex: ",(0,i.jsx)(s.code,{children:".get('h1').contains('text')"}),".\n",(0,i.jsx)(s.a,{href:"https://github.com/cypress-io/cypress-example-recipes/tree/master/examples/extending-cypress__chai-assertions",children:"We can add our own assertions or extending chai"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Good example of chaining:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'// retry until this input does not have class disabled\ncy.get("form").find("input").should("not.have.class", "disabled");\n'})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://docs.cypress.io/app/core-concepts/introduction-to-cypress#Using-Aliases-to-Refer-to-Previous-Subjects",children:"Aliases"})," allows to create subject reference we can later specify for following actions."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:'cy.get("table").find("tr").as("rows");\n// Later can be referenced as\ncy.get("@rows");\n'})}),"\n",(0,i.jsx)(s.h3,{id:"focusing-on-a-single-test",children:"Focusing on a single test"}),"\n",(0,i.jsx)(s.h3,{id:"beforeeach",children:"beforeEach"}),"\n",(0,i.jsx)(s.h3,{id:"custom-commands",children:"Custom commands"})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>o});var t=n(6540);const i={},r=t.createContext(i);function c(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);